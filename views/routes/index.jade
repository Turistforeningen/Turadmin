extends ../index


append head

    script
        | var appData = {};
        - if (typeof(userGroups) !== 'undefined')
            | appData.userGroups = !{userGroups};
            //- | console.log('Loaded route with userGroups:', !{userGroups});
        - if (typeof(userData) !== 'undefined')
            | appData.userData = !{userData};
            //- | console.log('Loaded route with userData:', !{userData});
        - if (typeof(userDefaultRouteFetchQuery) !== 'undefined')
            | appData.userDefaultRouteFetchQuery = !{userDefaultRouteFetchQuery};
            //- | console.log('Loaded route with userDefaultGroup:', '#{userDefaultGroup}');
        - if (typeof(authType) !== 'undefined')
            | appData.authType = '#{authType}';
            //- | console.log('Loaded route with authType:', '#{authType}');

        | appData.itemType = '#{itemType}';

        | define('state', appData);

    script.
        require(['/scripts/apps/route-index.js']);



block navbarCollapse

    +navbarCollapseIndex('routes')

    // Right side navigation
    ul.nav.navbar-nav.navbar-right

        include ../dropdownmenu


block content

    div.container
        div.masthead
            h2.page-header Mine turer

        div.item-list.item-list-routes(data-container-for="items")
            // TODO: Move styles to CSS-file
            p(style="margin-bottom: 30px;") Her er alle turene du har lagt inn. Klikk på de enkelte turene for å gjøre endringer.
                a.btn.btn-primary.pull-right(href="/tur") Ny tur

            // TODO: Move styles to CSS-file
            div.group-select-container(style="margin-bottom: 20px;" class="hidden")
                div(data-placeholder-for="group-select")
                p.help-block Du har tilgang til flere grupper. Velg hvilken gruppe du vil se turer for, eller om du vil se turer knyttet til din bruker.

            div.search.well.hidden
                label Søk etter tur
                input(type="text" class="form-control" placeholder="" name="search-term")
                button.btn.btn-default(data-action="search" type="button") Søk

            div(class="hidden" data-container-for="items-table")
                table.table.table-bordered.table-hover
                    thead
                        tr
                            th Tittel
                            th Publisert
                            th Lagret
                            th Valg
                    tbody(data-container-for="item-rows")

            div(class="hidden" data-container-for="no-items-alert")
                div.alert.alert-info
                    strong Ingen turer:
                    |&#32;
                    span Fant ingen turer tilhørende valgt bruker eller gruppe.

            div(class="hidden" data-container-for="loading-items-message")
                span Henter turer...

            div.paginator(data-container-for="paginator")
